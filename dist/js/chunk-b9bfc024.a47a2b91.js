(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b9bfc024"],{"6a85":function(t,a,e){},"98b5":function(t,a,e){"use strict";var i=e("ac03"),s=e.n(i);s.a},ac03:function(t,a,e){},bcf8:function(t,a,e){"use strict";var i=e("6a85"),s=e.n(i);s.a},e6dc:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"products mt-8"},[e("div",{staticClass:"static-sub-menu  container-fluid mb-4 mb-md-7 d-none d-md-block",attrs:{id:"staticSubMenu"}},[e("ul",{staticClass:"nav sub-menu-item text-capitalize container",attrs:{id:"sub-menu-item"}},t._l(t.classMenu,(function(a,i){return e("li",{key:i,staticClass:"nav-item border-0 font-size-16 font-size-md-24 my-3"},[e("a",{staticClass:"font-weight-bold nav-link p-0",class:a.link==t.category?"text-main":"",attrs:{"data-toggle":"list",href:"#list-filter"},on:{click:function(e){t.category=a.link,t.getItem}}},[t._v(" "+t._s(a.name)),e("sup",[t._v(t._s(a.number))])])])})),0)]),e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("div",{staticClass:"product-item container card-columns mb-5",attrs:{id:"productList"}},[t._l(t.filterProducts,(function(a,i){return e("div",{key:i,staticClass:"card",on:{click:function(e){return t.getProduct(a.id)}}},[e("img",{staticClass:"card-img",attrs:{src:a.imageUrl[0]}}),a.price<a.origin_price?e("div",{staticClass:"card-img-overlay p-3"},[e("p",{staticClass:"card-text text-right text-white font-size-14 text-capitalize"},[t._v(" on sale ")])]):t._e(),e("div",{staticClass:"card-body text-left p-0 pt-1"},[e("h5",{staticClass:"card-title mb-1 text-capitalize font-size-md-24 font-weight-bold"},[t._v(" "+t._s(a.title)+" ")]),e("p",{staticClass:"card-text font-size-16 text-truncate mb-1"},[t._v(" "+t._s(a.content)+" ")]),e("div",{staticClass:"d-flex align-items-baseline"},[a.price<a.origin_price?e("del",{staticClass:"text-muted font-size-16 mr-2"},[t._v(" "+t._s(t._f("money")(a.origin_price)))]):t._e(),e("div",{staticClass:"font-weight-bold font-size-16 font-size-md-20"},[t._v(" "+t._s(t._f("money")(a.price)))])])])])})),e("div",{staticClass:"card",class:{"d-md-none":t.filterProducts.length%2==1,"d-none":t.filterProducts.length%2==0},staticStyle:{height:"245px"}},[e("div",{staticClass:"card-body"})])],2),e("div",{staticClass:"mb-7"},[e("Pagination",{attrs:{pages:t.pagination},on:{"emit-pages":t.getProducts}})],1)],1)},s=[],n=(e("99af"),e("4de4"),e("4160"),e("ac1f"),e("5319"),e("9911"),e("159b"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{attrs:{"aria-label":"Page navigation"}},[e("ul",{staticClass:"pagination font-size-24  justify-content-center"},[e("li",{staticClass:"page-item mx-0",class:{disabled:1===t.pages.current_page}},[e("a",{staticClass:"page-link border-0",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.emitPages(t.pages.current_page-1)}}},[e("span",{staticClass:"material-icons align-middle",attrs:{"aria-hidden":"true"}},[t._v(" navigate_before ")])])]),t._l(t.pages.total_pages,(function(a,i){return e("li",{key:i,staticClass:"page-item mx-0",class:{active:a===t.pages.current_page,"font-weight-bold":a===t.pages.current_page}},[e("a",{staticClass:"page-link border-0",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.emitPages(a)}}},[a===t.pages.current_page?e("u",[t._v(t._s(a))]):e("span",[t._v(t._s(a))])])])})),e("li",{staticClass:"page-item mx-0",class:{disabled:t.pages.current_page===t.pages.total_pages}},[e("a",{staticClass:"page-link border-0",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.emitPages(t.pages.current_page+1)}}},[e("span",{staticClass:"material-icons align-middle",attrs:{"aria-hidden":"true"}},[t._v(" navigate_next ")])])])],2)])}),c=[],r={name:"Pagination",data:function(){return{}},props:{pages:{type:Object,default:function(){return{}}}},methods:{emitPages:function(t){this.$emit("emit-pages",t)}}},o=r,l=(e("bcf8"),e("2877")),u=Object(l["a"])(o,n,c,!1,null,null,null),d=u.exports,g={name:"Products",components:{Pagination:d},data:function(){return{isLoading:!1,category:this.$route.query.category,products:[],pagination:{},activeClass:0,classMenu:[{name:"全部",number:12,link:"all"},{name:"手做陶器",number:5,link:"手做陶器"},{name:"木作小物",number:2,link:"木作小物"},{name:"多元文創",number:1,link:"多元文創"},{name:"其他",number:1,link:"其他"}]}},created:function(){this.$bus.$emit("get-layer:layer",0),this.getProducts()},methods:{getProducts:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io/api","/").concat("1e46f421-bbae-4212-8539-55ea1c5329cf","/ec/products?page=").concat(a,"&paged=").concat(e);this.axios.get(i).then((function(a){t.products=a.data.data,t.pagination=a.data.meta.pagination,t.filterClassNum(),t.isLoading=!1}))},getProduct:function(t){this.$router.push({path:"/product/".concat(t)})},getItem:function(t){this.activeClass=t},filterClassNum:function(){var t=this;this.classMenu.forEach((function(a){"all"===a.link?a.number=t.products.length:a.number=t.products.filter((function(t){return t.category===a.link})).length}))}},computed:{filterProducts:function(){var t=this.category;return""===t&&(t="all"),void 0!==this.$route.query.category&&(t=this.$route.query.category,this.$router.replace("/products")),"all"===t?this.products:this.products.filter((function(a){return a.category===t}))}}},p=g,f=(e("98b5"),Object(l["a"])(p,i,s,!1,null,"18825a28",null));a["default"]=f.exports}}]);
//# sourceMappingURL=chunk-b9bfc024.a47a2b91.js.map