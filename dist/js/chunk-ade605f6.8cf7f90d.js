(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ade605f6"],{"13d5":function(t,e,n){"use strict";var o=n("23e7"),a=n("d58f").left,s=n("a640"),r=n("ae40"),i=s("reduce"),c=r("reduce",{1:0});o({target:"Array",proto:!0,forced:!i||!c},{reduce:function(t){return a(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"466d":function(t,e,n){"use strict";var o=n("d784"),a=n("825a"),s=n("50c4"),r=n("1d80"),i=n("8aa5"),c=n("14c3");o("match",1,(function(t,e,n){return[function(e){var n=r(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,n):new RegExp(e)[t](String(n))},function(t){var o=n(e,t,this);if(o.done)return o.value;var r=a(t),l=String(this);if(!r.global)return c(r,l);var d=r.unicode;r.lastIndex=0;var u,p=[],f=0;while(null!==(u=c(r,l))){var m=String(u[0]);p[f]=m,""===m&&(r.lastIndex=i(l,s(r.lastIndex),d)),f++}return 0===f?null:p}]}))},"4d63":function(t,e,n){var o=n("83ab"),a=n("da84"),s=n("94ca"),r=n("7156"),i=n("9bf2").f,c=n("241c").f,l=n("44e7"),d=n("ad6d"),u=n("9f7f"),p=n("6eeb"),f=n("d039"),m=n("69f3").set,v=n("2626"),b=n("b622"),g=b("match"),h=a.RegExp,_=h.prototype,y=/a/g,C=/a/g,w=new h(y)!==y,x=u.UNSUPPORTED_Y,k=o&&s("RegExp",!w||x||f((function(){return C[g]=!1,h(y)!=y||h(C)==C||"/a/i"!=h(y,"i")})));if(k){var M=function(t,e){var n,o=this instanceof M,a=l(t),s=void 0===e;if(!o&&a&&t.constructor===M&&s)return t;w?a&&!s&&(t=t.source):t instanceof M&&(s&&(e=d.call(t)),t=t.source),x&&(n=!!e&&e.indexOf("y")>-1,n&&(e=e.replace(/y/g,"")));var i=r(w?new h(t,e):h(t,e),o?this:_,M);return x&&n&&m(i,{sticky:n}),i},E=function(t){t in M||i(M,t,{configurable:!0,get:function(){return h[t]},set:function(e){h[t]=e}})},j=c(h),R=0;while(j.length>R)E(j[R++]);_.constructor=M,M.prototype=_,p(a,"RegExp",M)}v("RegExp")},"645f":function(t,e,n){},"6e63":function(t,e,n){"use strict";var o=n("645f"),a=n.n(o);a.a},7156:function(t,e,n){var o=n("861d"),a=n("d2bb");t.exports=function(t,e,n){var s,r;return a&&"function"==typeof(s=e.constructor)&&s!==n&&o(r=s.prototype)&&r!==n.prototype&&a(t,r),t}},"7cb4":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"carts container mt-2 mb-7"},[n("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),n("div",[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-12 d-md-none"},[n("a",{staticClass:"pay-list-btn btn btn-sec-2 btn-lg d-flex d-md-none justify-content-between align-items-center",attrs:{"data-toggle":"collapse",href:"#collapse-pay-list",role:"button","aria-expanded":"true","aria-controls":"collapse-pay-list"},on:{click:t.subMenuToogle}},[n("h6",{staticClass:"mb-0 font-weight-bold"},[t._v("訂單明細")]),n("p",{staticClass:"mb-0 font-weight-bold"},[t._v(" "+t._s(t._f("money")(t.totalMoney+t.shipping))+" "),n("span",{staticClass:"pay-list-arrow_down material-icons align-middle text-main"},[t._v(" keyboard_arrow_down ")])])])])]),n("div",{staticClass:"row flex-column-reverse flex-md-row justify-content-center"},[t._m(0),n("div",{staticClass:"col-12 col-md-6 order-md-2 text-center text-md-left"},[n("h1",{staticClass:"mb-4 font-size-md-40 font-size-32"},[t._v(" 太好了，您已完成訂購! ")]),n("p",{staticClass:"font-size-md-24 font-size-16 font-weight-normal text-secondary mb-md-7"},[t._v("您的訂單已收到。我們會透過電子郵件將詳細的訂單確認信息發送給您。 ")]),n("ul",{staticClass:"list-unstyled mb-md-7"},[n("li",{staticClass:"d-flex justify-content-between border-bottom mb-3"},[n("h5",[t._v("收件人")]),n("p",{staticClass:"mb-0"},[t._v(t._s(t.order.user.name))])]),n("li",{staticClass:"d-flex justify-content-between border-bottom mb-3"},[n("h5",[t._v("信箱")]),n("p",{staticClass:"mb-0"},[t._v(t._s(t.order.user.email))])]),n("li",{staticClass:"d-flex justify-content-between border-bottom mb-3"},[n("h5",[t._v("收件地址")]),n("p",{staticClass:"mb-0"},[t._v(t._s(t.order.user.address))])])]),n("router-link",{staticClass:"btn btn-main btn-lg w-50",attrs:{to:{name:"產品列表",query:{category:"all"}},role:"button"}},[t._v(" 繼續選購 ")])],1),n("div",{staticClass:"col-12 col-md-4 order-2 order-md-3"},[n("ul",{staticClass:"list-unstyled pay-list p-3 p-md-4 collapse d-md-block",attrs:{id:"collapse-pay-list"}},[t._l(t.order.products,(function(e,o){return n("li",{key:o,staticClass:"mb-3"},[n("img",{attrs:{src:e.product.imageUrl[0],alt:""}}),n("div",[n("p",{staticClass:"font-weight-bold pl-3"},[t._v(" "+t._s(e.product.title)+" x "+t._s(e.quantity)+" ")]),n("p",[t._v(t._s(t._f("money")(e.product.price)))])])])})),t.order.coupon.enabled?n("li",{staticClass:"d-flex\n              justify-content-between align-items-center pt-3 mb-3 border-top "},[n("h5",{staticClass:"mb-0"},[t._v("優惠碼")]),n("p",{staticClass:"mb-0 h5"},[t._v(" - "+t._s(t._f("money")(Math.round(t.totalMoney*(t.order.coupon.percent/100))))+" ")])]):t._e(),n("li",{staticClass:"border-top pt-3 mb-3"},[n("div",[n("p",[t._v("小計")]),t.order.coupon.enabled?n("p",[t._v(t._s(t._f("money")(t.totalMoney-Math.round(t.totalMoney*(t.order.coupon.percent/100)))))]):n("p",[t._v(t._s(t._f("money")(t.totalMoney)))])])]),n("li",{staticClass:"mb-3"},[n("div",[n("p",[t._v("運費")]),n("p",[t._v(t._s(t._f("money")(t.shipping)))])])]),n("li",{staticClass:"mb-3 pt-3 border-top"},[n("div",{staticClass:"font-size-24 font-weight-bold"},[n("p",[t._v("總計")]),t.order.coupon.enabled?n("p",[t._v(" "+t._s(t._f("money")(t.totalMoney-Math.round(t.totalMoney*(t.order.coupon.percent/100))+t.shipping))+" ")]):n("p",[t._v(t._s(t._f("money")(t.totalMoney+t.shipping)))])])])],2)])])])],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-12 col-md-10  order-1 order-md-1 my-4 mt-md-0"},[n("ul",{staticClass:"list-unstyled d-flex justify-content-around mb-1"},[n("li",{staticClass:"d-flex flex-column align-items-center"},[n("h6",[n("span",{staticClass:"badge badge-main"},[t._v("1")]),t._v(" 填寫訂單資料")])]),n("li",{staticClass:"d-flex flex-column align-items-center"},[n("h6",[n("span",{staticClass:"badge badge-main"},[t._v("2")]),t._v(" 完成訂單")])])]),n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated",staticStyle:{width:"100%"},attrs:{role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"}})])])}],s=(n("99af"),n("13d5"),n("4d63"),n("ac1f"),n("25f0"),n("466d"),{methods:{getCookie:function(t){var e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]*)(;|$)"));return null!=e?unescape(e[2]):null},delCookie:function(t){var e=new Date;e.setTime(e.getTime()-1);var n=this.getCookie(t);null!=n&&(document.cookie=t+"="+n+";expires="+e.toGMTString())}}}),r={name:"Checkout",data:function(){return{isLoading:!1,order:{products:[],coupon:{},user:{}},carts:{},shipping:80}},mixins:[s],created:function(){this.$bus.$emit("get-layer:layer",1);var t=this.getCookie("orderId");this.getOrders(t)},methods:{getOrders:function(t){var e=this;this.isLoading=!0;var n="".concat("https://course-ec-api.hexschool.io/api","/").concat("1e46f421-bbae-4212-8539-55ea1c5329cf","/ec/orders/").concat(t);this.$http.get(n).then((function(t){e.order=t.data.data,e.isLoading=!1}))},subMenuToogle:function(){window.$(".pay-list-arrow_down").toggleClass("arrow-active")},goBack:function(){this.$router.go(-1)}},computed:{totalMoney:function(){var t=this.order.products,e=0;return this.order.products.length&&(e=t.reduce((function(t,e){return t+e.product.price*e.quantity}),0)),e}}},i=r,c=(n("6e63"),n("2877")),l=Object(c["a"])(i,o,a,!1,null,"767141e1",null);e["default"]=l.exports},d58f:function(t,e,n){var o=n("1c0b"),a=n("7b0b"),s=n("44ad"),r=n("50c4"),i=function(t){return function(e,n,i,c){o(n);var l=a(e),d=s(l),u=r(l.length),p=t?u-1:0,f=t?-1:1;if(i<2)while(1){if(p in d){c=d[p],p+=f;break}if(p+=f,t?p<0:u<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:u>p;p+=f)p in d&&(c=n(c,d[p],p,l));return c}};t.exports={left:i(!1),right:i(!0)}}}]);
//# sourceMappingURL=chunk-ade605f6.8cf7f90d.js.map